(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,l){e.exports=l(17)},,,,,,function(e,t,l){},function(e,t,l){},function(e,t,l){},function(e,t,l){"use strict";l.r(t);var n=l(0),a=l.n(n),r=l(7),c=l.n(r),o=l(1),s=l(2),u=l(4),i=l(3),m=l(5),d=(l(14),l(15),function(e){function t(e){var l;return Object(o.a)(this,t),(l=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={bestScore:0},l.localStorage=window.localStorage,l}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.localStorage.getItem("bestScore");this.setState({bestScore:e})}},{key:"componentDidUpdate",value:function(){var e=this.props.score;if(e>this.state.bestScore){this.localStorage.setItem("bestScore",e);var t=this.localStorage.getItem("bestScore");this.setState({bestScore:t})}}},{key:"render",value:function(){var e=this.props,t=e.startNewGame,l=e.score,n=this.state.bestScore;return a.a.createElement("div",{className:"heading"},a.a.createElement("h1",{className:"title"},"2048"),a.a.createElement("a",{className:"restart-btn",onClick:t},"New Game"),a.a.createElement("div",{className:"scores-container"},a.a.createElement("div",{className:"score-container"},l),a.a.createElement("div",{className:"best-container"},n)))}}]),t}(n.Component)),h=(l(16),function(e){var t=e.cells;return a.a.createElement("div",{className:"game-container"},t.map(function(e,t){return a.a.createElement("div",{key:t,className:"row"},e.map(function(e,t){return a.a.createElement("div",{key:t,className:"cell"},e)}))}))}),v=function(e){for(var t=e.length,l=0,n=0;n<e.length;n++)if(null!==e[n])for(var a=n+1;a<e.length;a++)if(e[n]===e[a]){var r=e[n]+e[a];l+=r,e.splice(n,1,r),e.splice(a,1),a=e.length}else null!==e[a]&&(a=e.length);else e.splice(n,1),n--;if(e.length<t)for(var c=e.length;c<t;c++)e.push(null);return{arr:e,score:l}},f=function(e){for(var t=[[],[],[],[]],l=0;l<e.length;l++)for(var n=0;n<e.length;n++)t[n][l]=e[l][e.length-1-n];return t},g=37,S=38,p=39,w=40,C=2,b={"":"cell",2:"cell cell-2",4:"cell cell-4",8:"cell cell-8",16:"cell cell-16",32:"cell cell-32",64:"cell cell-64",128:"cell cell-128",256:"cell cell-256",512:"cell cell-512",1024:"cell cell-1024",2048:"cell cell-2048",4096:"cell cell-4096",8192:"cell cell-8192",16384:"cell cell-16384"},y=function(e){function t(){var e,l;Object(o.a)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(l=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(a)))).state={cells:[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]],score:0,startGame:!0,gameOver:!1},l.handleKeyPress=function(e){var t=e.keyCode;t===g?l.moveCellsLeft():t===S?l.moveCellsUp():t===p?l.moveCellsRight():t===w&&l.moveCellsDown()},l.handleTouchStart=function(e){l.setState({startX:e.changedTouches[0].clientX}),l.setState({startY:e.changedTouches[0].clientY})},l.handleTouchMove=function(e){var t=e.changedTouches[0].clientX-l.state.startX,n=e.changedTouches[0].clientY-l.state.startY;t<0&&0===n?l.moveCellsLeft():t>0&&0===n?l.moveCellsRight():n<0&&0===t?l.moveCellsUp():n>0&&0===t&&l.moveCellsDown(),console.log("distX",t),console.log("distY",n)},l.startNewGame=function(){l.setState({cells:[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]],startGame:!0,gameOver:!1,score:0})},l.addRandomTwo=function(){var e=l.state.cells,t=e.length-1,n=l.generateRandomInteger(0,t),a=l.generateRandomInteger(0,t);null===e[n][a]?(e[n][a]=C,l.setState({cells:e})):l.addRandomTwo()},l.addColorCell=function(){document.querySelectorAll(".cell").forEach(function(e){Object.keys(b).forEach(function(t){e.innerHTML===t&&(e.className=b[t])})})},l.moveCellsLeft=function(){var e=l.state.cells;e=l.getArrayfromSumDoubleCells(e),l.addCellsOrStartNewGame(e)},l.moveCellsUp=function(){var e=l.state.cells;e=f(e),e=l.getArrayfromSumDoubleCells(e);for(var t=0;t<3;t++)e=f(e);l.addCellsOrStartNewGame(e)},l.moveCellsRight=function(){var e=l.state.cells;e=f(e),e=f(e),e=l.getArrayfromSumDoubleCells(e),e=f(e),e=f(e),l.addCellsOrStartNewGame(e)},l.moveCellsDown=function(){for(var e=l.state.cells,t=0;t<3;t++)e=f(e);e=l.getArrayfromSumDoubleCells(e),e=f(e),l.addCellsOrStartNewGame(e)},l.addCellsOrStartNewGame=function(e){l.state.gameOver?(alert("Game Over"),l.startNewGame()):(l.setState({cells:e}),l.addRandomTwo())},l.generateRandomInteger=function(e,t){var l=e-.5+Math.random()*(t-e+1);return Math.round(l)},l.getArrayfromSumDoubleCells=function(e){var t=l.state.score,n=t,a=!1;return e.map(function(e){var n=v(e);return t+=n.score,l.setState({score:t}),e.includes(null)&&(a=!0),n.arr}),a||n!==t?e:(l.setState({gameOver:!0}),e)},l}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("touchstart",this.handleTouchStart),document.addEventListener("touchend",this.handleTouchMove,!1),this.setState({startGame:!0})}},{key:"componentDidUpdate",value:function(){this.state.startGame&&(this.addRandomTwo(),this.addRandomTwo(),this.setState({startGame:!1})),this.addColorCell()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.state,t=e.cells,l=e.score;return a.a.createElement("div",{className:"container"},a.a.createElement(d,{startNewGame:this.startNewGame,score:l}),a.a.createElement(h,{cells:t}))}}]),t}(n.Component);c.a.render(a.a.createElement(y,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.eabda0eb.chunk.js.map