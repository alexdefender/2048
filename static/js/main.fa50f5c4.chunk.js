(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,l,t){e.exports=t(17)},,,,,,function(e,l,t){},function(e,l,t){},function(e,l,t){},function(e,l,t){"use strict";t.r(l);var n=t(0),a=t.n(n),r=t(7),c=t.n(r),o=t(1),s=t(2),u=t(4),i=t(3),m=t(5),d=(t(14),t(15),function(e){function l(e){var t;return Object(o.a)(this,l),(t=Object(u.a)(this,Object(i.a)(l).call(this,e))).state={bestScore:0},t.localStorage=window.localStorage,t}return Object(m.a)(l,e),Object(s.a)(l,[{key:"componentDidMount",value:function(){var e=this.localStorage.getItem("bestScore");this.setState({bestScore:e})}},{key:"componentDidUpdate",value:function(){var e=this.props.score;if(e>this.state.bestScore){this.localStorage.setItem("bestScore",e);var l=this.localStorage.getItem("bestScore");this.setState({bestScore:l})}}},{key:"render",value:function(){var e=this.props,l=e.startNewGame,t=e.score,n=this.state.bestScore;return a.a.createElement("div",{className:"heading"},a.a.createElement("h1",{className:"title"},"2048"),a.a.createElement("a",{className:"restart-btn",onClick:l},"New Game"),a.a.createElement("div",{className:"scores-container"},a.a.createElement("div",{className:"score-container"},t),a.a.createElement("div",{className:"best-container"},n)))}}]),l}(n.Component)),v=(t(16),function(e){var l=e.cells;return a.a.createElement("div",{className:"game-container"},l.map(function(e,l){return a.a.createElement("div",{key:l,className:"row"},e.map(function(e,l){return a.a.createElement("div",{key:l,className:"cell"},e)}))}))}),f=function(e){for(var l=e.length,t=0,n=0;n<e.length;n++)if(null!==e[n])for(var a=n+1;a<e.length;a++)if(e[n]===e[a]){var r=e[n]+e[a];t+=r,e.splice(n,1,r),e.splice(a,1),a=e.length}else null!==e[a]&&(a=e.length);else e.splice(n,1),n--;if(e.length<l)for(var c=e.length;c<l;c++)e.push(null);return{arr:e,score:t}},h=function(e){for(var l=[[],[],[],[]],t=0;t<e.length;t++)for(var n=0;n<e.length;n++)l[n][t]=e[t][e.length-1-n];return l},g=37,S=38,p=39,w=40,b=2,C={"":"cell",2:"cell cell-2",4:"cell cell-4",8:"cell cell-8",16:"cell cell-16",32:"cell cell-32",64:"cell cell-64",128:"cell cell-128",256:"cell cell-256",512:"cell cell-512",1024:"cell cell-1024",2048:"cell cell-2048",4096:"cell cell-4096",8192:"cell cell-8192",16384:"cell cell-16384"},y=function(e){function l(){var e,t;Object(o.a)(this,l);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=Object(u.a)(this,(e=Object(i.a)(l)).call.apply(e,[this].concat(a)))).state={cells:[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]],score:0,startGame:!0,gameOver:!1},t.handleKeyPress=function(e){var l=e.keyCode;l===g?t.moveCellsLeft():l===S?t.moveCellsUp():l===p?t.moveCellsRight():l===w&&t.moveCellsDown()},t.startNewGame=function(){t.setState({cells:[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]],startGame:!0,gameOver:!1,score:0})},t.addRandomTwo=function(){var e=t.state.cells,l=e.length-1,n=t.generateRandomInteger(0,l),a=t.generateRandomInteger(0,l);null===e[n][a]?(e[n][a]=b,t.setState({cells:e})):t.addRandomTwo()},t.addColorCell=function(){document.querySelectorAll(".cell").forEach(function(e){Object.keys(C).forEach(function(l){e.innerHTML===l&&(e.className=C[l])})})},t.moveCellsLeft=function(){var e=t.state.cells;e=t.getArrayfromSumDoubleCells(e),t.addCellsOrStartNewGame(e)},t.moveCellsUp=function(){var e=t.state.cells;e=h(e),e=t.getArrayfromSumDoubleCells(e);for(var l=0;l<3;l++)e=h(e);t.addCellsOrStartNewGame(e)},t.moveCellsRight=function(){var e=t.state.cells;e=h(e),e=h(e),e=t.getArrayfromSumDoubleCells(e),e=h(e),e=h(e),t.addCellsOrStartNewGame(e)},t.moveCellsDown=function(){for(var e=t.state.cells,l=0;l<3;l++)e=h(e);e=t.getArrayfromSumDoubleCells(e),e=h(e),t.addCellsOrStartNewGame(e)},t.addCellsOrStartNewGame=function(e){t.state.gameOver?(alert("Game Over"),t.startNewGame()):(t.setState({cells:e}),t.addRandomTwo())},t.generateRandomInteger=function(e,l){var t=e-.5+Math.random()*(l-e+1);return Math.round(t)},t.getArrayfromSumDoubleCells=function(e){var l=t.state.score,n=l,a=!1;return e.map(function(e){var n=f(e);return l+=n.score,t.setState({score:l}),e.includes(null)&&(a=!0),n.arr}),a||n!==l?e:(t.setState({gameOver:!0}),e)},t}return Object(m.a)(l,e),Object(s.a)(l,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress),this.setState({startGame:!0})}},{key:"componentDidUpdate",value:function(){this.state.startGame&&(this.addRandomTwo(),this.addRandomTwo(),this.setState({startGame:!1})),this.addColorCell()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.state,l=e.cells,t=e.score;return a.a.createElement("div",{className:"container"},a.a.createElement(d,{startNewGame:this.startNewGame,score:t}),a.a.createElement(v,{cells:l}))}}]),l}(n.Component);c.a.render(a.a.createElement(y,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.fa50f5c4.chunk.js.map